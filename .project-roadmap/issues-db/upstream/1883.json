{
  "number": 1883,
  "repo": "mRemoteNG/mRemoteNG",
  "title": "Error when saving to SQL",
  "state": "open",
  "labels": [
    "Bug",
    "1.77.2",
    "DBs"
  ],
  "author": "ericgunby",
  "created_at": "2020-10-21T14:36:00Z",
  "github_updated_at": "2026-02-21T10:23:51Z",
  "body_snippet": "I was able to create the SQL db just fine and can map to it from mRemoteNG, but when I import and save the connections I get errors.\r\n\r\n![image](https://user-images.githubusercontent.com/73240375/96735080-cb26ee80-1380-11eb-8859-8c43645a931d.png)\r\n\r\n\r\n## Expected Behavior\r\nI would assume it should be saving the connection information up to SQL.\r\n\r\n## Current Behavior\r\nErrors instead of saving. \r\n\r\n## Possible Solution\r\n<!--- Not obligatory, but suggest a fix/reason for the bug, -->\r\n<!--- or ide...",
  "our_status": "triaged",
  "priority": "P2-bug",
  "target_release": null,
  "our_branch": null,
  "our_pr": null,
  "iterations": [
    {
      "seq": 1,
      "date": "2026-02-21",
      "type": "triaged",
      "description": "The user is reporting an error when saving to SQL. Adding more specific error logging will help diagnose the root cause of the issue when `dataAdapter.Update(dataTable)` fails."
    }
  ],
  "comments": [
    {
      "id": "MDEyOklzc3VlQ29tbWVudDcyMDkyMTk2NA==",
      "author": "FWITC",
      "date": "2020-11-03T06:02:34Z",
      "snippet": "This Problem exists on Prerelease v1.77.0 with MSSQL. i#Is there a collation preference?\r\nCouldn't save connections file as \"\"!\r\nObject reference not set to an instance of an object.\r\nCouldn't save connections file as \"\"!\r\nThe given ColumnMapping does not match up with any column in the source or destination.",
      "is_ours": false,
      "analyzed": false,
      "action_needed": true
    },
    {
      "id": "MDEyOklzc3VlQ29tbWVudDcyMTU3NDAyMw==",
      "author": "FWITC",
      "date": "2020-11-04T08:00:14Z",
      "snippet": "----------\r\nErrorMsg\r\n11/04/2020 08:59:23\r\nCouldn't save connections file as \"\"!\r\nMissing the DataColumn 'DisableCursorBlinking' in the DataTable 'tblCons' for the SourceColumn 'DisableCursorBlinking'.\r\n----------\r\nwith MariaDB 10.5",
      "is_ours": false,
      "analyzed": false,
      "action_needed": true
    },
    {
      "id": "MDEyOklzc3VlQ29tbWVudDcyNTkzNDU1NA==",
      "author": "jlorhert",
      "date": "2020-11-12T08:47:55Z",
      "snippet": "> \r\n> ## ErrorMsg\r\n> 11/04/2020 08:59:23\r\n> Couldn't save connections file as \"\"!\r\n> Missing the DataColumn 'DisableCursorBlinking' in the DataTable 'tblCons' for the SourceColumn 'DisableCursorBlinking'.\r\n> \r\n> with MariaDB 10.5\r\n\r\nHi,\r\n\r\nSame behavior with MySQL Community Server:\r\nServer version          8.0.22\r\nProtocol version        10\r\n\r\nAnd tested with versions of mRemoteNG mRemoteNG-P-1.77.1\r\n\r\nBye.",
      "is_ours": false,
      "analyzed": false,
      "action_needed": true
    },
    {
      "id": "MDEyOklzc3VlQ29tbWVudDc4Mzk2ODYzNQ==",
      "author": "wallenford",
      "date": "2021-02-23T07:21:02Z",
      "snippet": "here is my init file works with  V1.77.0.41307 portable +  8.0.17 MySQL Community Server\r\nI also change the encode of table to UTF8. \r\n\r\n[mRemoteNG_init_db_mysql.edited.utf8.sql.txt](https://github.com/mRemoteNG/mRemoteNG/files/6027253/mRemoteNG_init_db_mysql.edited.utf8.sql.txt)\r\n\r\n",
      "is_ours": false,
      "analyzed": false,
      "action_needed": true
    },
    {
      "id": "MDEyOklzc3VlQ29tbWVudDg2MTI0ODIxMg==",
      "author": "theoneandonly-vector",
      "date": "2021-06-15T07:18:41Z",
      "snippet": "This works for MSSQL:\r\nhttps://github.com/mRemoteNG/mRemoteNG/issues/1840#issuecomment-763515370",
      "is_ours": false,
      "analyzed": false,
      "action_needed": true
    },
    {
      "id": "IC_kwDOAAcIMM41M8ZT",
      "author": "fereggert",
      "date": "2021-08-04T11:36:03Z",
      "snippet": "I was having the same problem, but had success on solving it.\r\nYou MUST save connection file just after configuring the nRemoteNG to SQL, and BEFORE adding any connection.\r\n\r\nIf you try to create any connection prior to save the connection file, it will fail.",
      "is_ours": false,
      "analyzed": false,
      "action_needed": true
    },
    {
      "id": "IC_kwDOAAcIMM41iszA",
      "author": "theoneandonly-vector",
      "date": "2021-08-13T08:39:22Z",
      "snippet": "@fereggert on which version did this work?",
      "is_ours": false,
      "analyzed": false,
      "action_needed": true
    },
    {
      "id": "IC_kwDOAAcIMM41q4L9",
      "author": "fereggert",
      "date": "2021-08-17T16:10:39Z",
      "snippet": "@theoneandonly-vector 1.76.20.24615",
      "is_ours": false,
      "analyzed": false,
      "action_needed": true
    },
    {
      "id": "IC_kwDOAAcIMM41s9t1",
      "author": "theoneandonly-vector",
      "date": "2021-08-18T09:52:46Z",
      "snippet": "@fereggert \r\nmy current problem on this verison is that I now have a DB-version which is \"to new\" and won't save changes",
      "is_ours": false,
      "analyzed": false,
      "action_needed": true
    },
    {
      "id": "IC_kwDOAAcIMM7mYiRh",
      "author": "robertpopa22",
      "date": "2026-02-07T19:55:56Z",
      "snippet": "Triage refresh (P4 version-label debt): this issue is tagged with legacy version labels. Please retest on the latest build (fork v1.79.x or upstream dev), then share reproducible steps and expected vs actual behavior. If still valid, keep open and relabel to current triage scope (for example Need 2 check). If fixed, close with resolution.\n\nCurrent legacy version labels: 1.77.2",
      "is_ours": true,
      "analyzed": false,
      "action_needed": false
    },
    {
      "id": "IC_kwDOAAcIMM7mYqyz",
      "author": "robertpopa22",
      "date": "2026-02-07T20:13:57Z",
      "snippet": "Implemented a SQL schema compatibility hardening pass in my fork that targets this family of DB save errors (including Missing the DataColumn DisableCursorBlinking). \r\n \r\nChanges in fork commit https://github.com/robertpopa22/mRemoteNG/commit/cd6eee37 : \r\n- always load SQL reader schema even when tblCons has 0 rows \r\n- auto-add missing serializer-required columns for partial or outdated SQL schemas \r\n- regression test added for missing-column schema handling \r\n \r\nCI validation green on x86/x64/A...",
      "is_ours": true,
      "analyzed": false,
      "action_needed": false
    }
  ],
  "comments_cursor": "2026-02-21T10:23:51Z",
  "unread_comments": 9,
  "needs_action": true,
  "waiting_for_us": false,
  "last_synced": "2026-02-21T12:06:48Z",
  "notes": "AI triage (gemini): The user is reporting an error when saving to SQL. Adding more specific error logging will help diagnose the root cause of the issue when `dataAdapter.Update(dataTable)` fails.\nApproach: Enhance error handling in `SqlDataProvider.cs` by wrapping `dataAdapter.Update(dataTable)` in a `try-catch (Exception ex)` block for general exceptions, logging the exception details, and re-throwing to ensure the original error is not masked. This will be done for MSSQL, MySQL, and ODBC data providers within the `Save` method."
}
