{
  "number": 1830,
  "repo": "mRemoteNG/mRemoteNG",
  "title": "Cannot change expired password error 3847",
  "state": "open",
  "labels": [
    "RDP",
    "Improvement required",
    "Windows"
  ],
  "author": "Tuteksik",
  "created_at": "2020-08-10T06:22:17Z",
  "github_updated_at": "2025-06-26T07:16:34Z",
  "body_snippet": "Hi,\r\nHow could I in MremoteNG change expired password during connection to server. If password is expired I have an error during connection 3847, so only solution is to use windows remote desktop client to change password first then again I can use MremoteNG.\r\n\r\n* Version used:\r\n* Operating System and version (e.g. Windows 10 1709 x64):\r\n",
  "our_status": "testing",
  "priority": "P3-enhancement",
  "target_release": null,
  "our_branch": null,
  "our_pr": null,
  "iterations": [
    {
      "seq": 1,
      "date": "2026-02-21",
      "type": "triaged",
      "description": "RDP error 3847 (expired password) occurs because mRemoteNG uses CredSSP/NLA which blocks the OS password-change dialog; fix is to expose a per-connection 'Allow expired password change' toggle that sets EnableCredSspSupport=false and AuthenticationLevel=2 on the RDP client.",
      "token_usage": {
        "input_tokens": 6,
        "output_tokens": 1198,
        "cost_usd": 0.209392,
        "operations": 1
      }
    },
    {
      "seq": 2,
      "date": "2026-02-21",
      "type": "testing",
      "description": "Fix in 3b9e46b0",
      "token_usage": {
        "input_tokens": 33,
        "output_tokens": 7761,
        "cost_usd": 1.638342,
        "operations": 2
      }
    }
  ],
  "comments": [
    {
      "id": "IC_kwDOAAcIMM6zQePH",
      "author": "iCelo-git",
      "date": "2025-06-26T07:16:34Z",
      "snippet": "Hi,\nIs it possible to add a parameter (just like the rest, for example like clipboard sharing) to allow expired password change?. Now if the password is expired, you can add these 2 lines to .rdp file:\n```\nauthentication level:i:2\nenablecredsspsupport:i:0\n```\nThen the mstsc.exe will open the connection with a prompt to change the password.",
      "is_ours": false,
      "analyzed": false,
      "action_needed": true
    }
  ],
  "comments_cursor": "2025-06-26T07:16:34Z",
  "unread_comments": 1,
  "needs_action": true,
  "waiting_for_us": true,
  "last_synced": "2026-02-15T09:52:50Z",
  "notes": "AI triage (claude): RDP error 3847 (expired password) occurs because mRemoteNG uses CredSSP/NLA which blocks the OS password-change dialog; fix is to expose a per-connection 'Allow expired password change' toggle that sets EnableCredSspSupport=false and AuthenticationLevel=2 on the RDP client.\nApproach: Add boolean property 'AllowExpiredPasswordChange' to ConnectionInfo; when true, set rdpClient.AdvancedSettings8.EnableCredSspSupport=false and rdpClient.SecuredSettings2.AuthenticationLevel=2 in RdpProtocol7 Connect(), mirroring the .rdp file workaround described in the latest comment.",
  "token_usage": {
    "input_tokens": 39,
    "output_tokens": 8959,
    "cost_usd": 1.847734
  }
}
