{
  "number": 1214,
  "repo": "mRemoteNG/mRemoteNG",
  "title": "Russian language turning into crap with vnc connection",
  "state": "open",
  "labels": [
    "Verified",
    "Bug",
    "VNC"
  ],
  "author": "KKostikov",
  "created_at": "2018-12-20T09:04:10Z",
  "github_updated_at": "2021-07-09T10:50:44Z",
  "body_snippet": "Hello.\r\nRussian lletters turning into crap over vnc protocol connection from win10 to win10 (at least).\r\nRDP protocol connection works fine\r\nEnglish language works fine\r\n\r\nRNG ver. 1.76.11.40527\r\nWindows 10 Pro (any build)\r\n",
  "our_status": "testing",
  "priority": "P2-bug",
  "target_release": null,
  "our_branch": null,
  "our_pr": null,
  "iterations": [
    {
      "seq": 1,
      "date": "2026-02-18",
      "type": "triaged",
      "description": "The issue is caused by the VNC implementation not correctly handling non-Latin keyboard input. The proposed fix is to extend the existing `VncLockKeyFilter` to intercept `WM_CHAR` and IME messages and send the correct keysyms for Cyrillic characters via reflection."
    },
    {
      "seq": 2,
      "date": "2026-02-18",
      "type": "testing",
      "description": "Already committed (dedup fix - batch update)"
    }
  ],
  "comments": [
    {
      "id": "MDEyOklzc3VlQ29tbWVudDQ0OTE0MDkwOQ==",
      "author": "sparerd",
      "date": "2018-12-20T21:28:02Z",
      "snippet": "Thanks for reporting this @KKostikov. Could you provide a screen shot of what you are seeing? This will help us when trying to reproduce the issue.",
      "is_ours": false,
      "analyzed": false,
      "action_needed": true
    },
    {
      "id": "MDEyOklzc3VlQ29tbWVudDQ0OTI2MTQ3Mw==",
      "author": "KKostikov",
      "date": "2018-12-21T05:43:25Z",
      "snippet": "Sorry i forgot to mention, we use TightVNC server for Windows ver. 2.8.11 as the server part. We chose this one because it has an msi package for mass deployment in AD structure.  Heres screenshot\r\n![mremoteng](https://user-images.githubusercontent.com/36406800/50326616-5c667900-04fc-11e9-9f2a-a3f7a3c7f970.png)\r\n",
      "is_ours": false,
      "analyzed": false,
      "action_needed": true
    },
    {
      "id": "MDEyOklzc3VlQ29tbWVudDQ0OTQwNTIzOA==",
      "author": "sparerd",
      "date": "2018-12-21T14:40:12Z",
      "snippet": "Thanks @KKostikov. Does this happen immediately after connecting, or does it work fine for a while and then start showing those odd characters?",
      "is_ours": false,
      "analyzed": false,
      "action_needed": true
    },
    {
      "id": "MDEyOklzc3VlQ29tbWVudDQ0OTQyNTkzMw==",
      "author": "KKostikov",
      "date": "2018-12-21T15:58:20Z",
      "snippet": "Immediately when we switch to Russian language.\n\nпт, 21 дек 2018, 17:40 David Sparer notifications@github.com:\n\n> Thanks @KKostikov <https://github.com/KKostikov>. Does this happen\n> immediately after connecting, or does it work fine for a while and then\n> start showing those odd characters?\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/mRemoteNG/mRemoteNG/issues/1214#issuecomment-449405238>,\n> or mute the threa...",
      "is_ours": false,
      "analyzed": false,
      "action_needed": true
    },
    {
      "id": "MDEyOklzc3VlQ29tbWVudDU1ODY0NTY4NQ==",
      "author": "l-luk",
      "date": "2019-11-26T14:10:13Z",
      "snippet": "I approved that bug with TightVNC server (last version).\r\nUse UltraVNC server.",
      "is_ours": false,
      "analyzed": false,
      "action_needed": true
    },
    {
      "id": "MDEyOklzc3VlQ29tbWVudDYyMTAyMzU5MQ==",
      "author": "nagorsky",
      "date": "2020-04-29T06:56:25Z",
      "snippet": "Same issue on 1.76.20.24615   and last version of TightVNC.\r\nCan anybody fix it? ",
      "is_ours": false,
      "analyzed": false,
      "action_needed": true
    },
    {
      "id": "MDEyOklzc3VlQ29tbWVudDg3NDUwNTQ4NA==",
      "author": "Gibrid89",
      "date": "2021-07-06T06:49:09Z",
      "snippet": "Yes, on 1.76.20.24615 and TightVNC russian language turning into crap...",
      "is_ours": false,
      "analyzed": false,
      "action_needed": true
    },
    {
      "id": "MDEyOklzc3VlQ29tbWVudDg3NzA1MTQ1MA==",
      "author": "Kvarkas",
      "date": "2021-07-09T09:30:12Z",
      "snippet": "will check possibly issue on TightVNC side by need verification",
      "is_ours": false,
      "analyzed": false,
      "action_needed": true
    },
    {
      "id": "MDEyOklzc3VlQ29tbWVudDg3NzA5NjQyNw==",
      "author": "Kvarkas",
      "date": "2021-07-09T10:50:34Z",
      "snippet": "I am able to reproduce such, will think how we can fix that - problem is that keypress don't send valid key code for some reason ",
      "is_ours": false,
      "analyzed": false,
      "action_needed": true
    }
  ],
  "comments_cursor": "2021-07-09T10:50:44Z",
  "unread_comments": 9,
  "needs_action": true,
  "waiting_for_us": true,
  "last_synced": "2026-02-15T09:52:50Z",
  "notes": "AI triage (gemini): The issue is caused by the VNC implementation not correctly handling non-Latin keyboard input. The proposed fix is to extend the existing `VncLockKeyFilter` to intercept `WM_CHAR` and IME messages and send the correct keysyms for Cyrillic characters via reflection.\nApproach: Extend `VncLockKeyFilter` to intercept `WM_CHAR`/IME messages and send correct keysyms for Cyrillic characters."
}
