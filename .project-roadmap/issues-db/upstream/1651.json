{
  "number": 1651,
  "repo": "mRemoteNG/mRemoteNG",
  "title": "Password passed incorrectly to external application when using the ^(caret) character",
  "state": "open",
  "labels": [
    "Bug",
    "Need 2 check",
    "Improvement required"
  ],
  "author": "glennss",
  "created_at": "2019-12-10T09:01:31Z",
  "github_updated_at": "2026-02-07T16:47:04Z",
  "body_snippet": "## Expected Behavior\r\nLaunch external application and pass the password using the %Password\" argument\r\n\r\n## Current Behavior\r\nWhen a password that includes the ^(caret) character is used a duplicate is passed i.e pass^ord becomes pass^^ord\r\n\r\n## Steps to Reproduce (for bugs)\r\nSetup and external application as normal, in the arguments tab, use the %Password% argument. try a password that includes a caret.\r\n\r\n## Context\r\nTrying to setup HP iLO Remote console and pass in %Username% %Hostname% and %...",
  "our_status": "triaged",
  "priority": "P2-bug",
  "target_release": null,
  "our_branch": null,
  "our_pr": null,
  "iterations": [
    {
      "seq": 1,
      "date": "2026-02-20",
      "type": "triaged",
      "description": "Elevated non-batch external tools double the caret (^→^^) via EscapeShellMetacharacters but ShellExecuteEx passes args directly without cmd.exe, so target app receives ^^ instead of ^"
    }
  ],
  "comments": [
    {
      "id": "MDEyOklzc3VlQ29tbWVudDU2MzkzNTYxOQ==",
      "author": "glennss",
      "date": "2019-12-10T09:04:29Z",
      "snippet": "This does appear to be the case with all the argument fields when using the caret symbol",
      "is_ours": false,
      "analyzed": false,
      "action_needed": true
    },
    {
      "id": "MDEyOklzc3VlQ29tbWVudDU2OTEyMjg0Nw==",
      "author": "kees-z",
      "date": "2019-12-26T19:47:39Z",
      "snippet": "The caret (`^`) symbol is used for metacharacter escaping. For example, if you want to explicitly supply the string `%password%` to the external app instead of its value, you can do this using `^%password^%`.\r\n\r\nUse an exclamation mark to disable metacharacter escaping and argument splitting, for example `%!password%` or `%!userfield%`.\r\n\r\nIn mRemoteNG, press F1 and click _External Applications_ for more info.",
      "is_ours": false,
      "analyzed": false,
      "action_needed": true
    },
    {
      "id": "IC_kwDOAAcIMM7mXFzW",
      "author": "robertpopa22",
      "date": "2026-02-07T16:47:04Z",
      "snippet": "Triage refresh (P2): this issue has been inactive for a long time. Please retest on the latest build and share reproducible steps, expected vs actual behavior, and logs/screenshots. If there is no confirmation/update, maintainers can close it as stale or not reproducible.",
      "is_ours": true,
      "analyzed": false,
      "action_needed": false
    }
  ],
  "comments_cursor": "2026-02-07T16:47:04Z",
  "unread_comments": 2,
  "needs_action": true,
  "waiting_for_us": false,
  "last_synced": "2026-02-15T09:52:50Z",
  "notes": "AI triage (claude): Elevated non-batch external tools double the caret (^→^^) via EscapeShellMetacharacters but ShellExecuteEx passes args directly without cmd.exe, so target app receives ^^ instead of ^\nApproach: Change the elevated non-batch path (line 316) to use escapeForShell:false with SplitCommandLineArguments+QuoteArgumentForCmd (same approach as batch paths), so carets and other metacharacters are protected by double-quoting rather than caret-escaping"
}
