{
  "number": 1589,
  "repo": "mRemoteNG/mRemoteNG",
  "title": "SQL deletes all rows and creates new rows for each change to the data",
  "state": "open",
  "labels": [
    "Bug",
    "1.77.2",
    "DBs"
  ],
  "author": "Loizzus",
  "created_at": "2019-09-19T23:05:37Z",
  "github_updated_at": "2026-02-07T19:55:09Z",
  "body_snippet": "<!--- Provide a general summary of the issue in the Title above -->\r\nWhen using the SQL database I have found that everytime any data is updated and saved the program deletes all existing rows from dbo.tblCons and creates a full set of new rows. \r\n\r\n## Problem Description\r\nThis causes the database to grow to a tremendous size very quickly when working with a small team even though the total number of rows is small. For example in 4 months my database of 40 rows is sitting at ID number 6619 as th...",
  "our_status": "triaged",
  "priority": "P2-bug",
  "target_release": null,
  "our_branch": null,
  "our_pr": null,
  "iterations": [
    {
      "seq": 1,
      "date": "2026-02-20",
      "type": "triaged",
      "description": "SQL save logic deletes ALL rows and re-inserts them on every save instead of updating existing rows, causing database bloat and ID sequence inflation."
    }
  ],
  "comments": [
    {
      "id": "MDEyOklzc3VlQ29tbWVudDU2OTQyNjcxNw==",
      "author": "Filippo125",
      "date": "2019-12-28T15:39:42Z",
      "snippet": "I fix the issue in branch [sql_update#1589](https://github.com/Filippo125/mRemoteNG/tree/sql_update%231589). It has already been tested with mysql. As soon as i can i'll test with mssql.",
      "is_ours": false,
      "analyzed": false,
      "action_needed": true
    },
    {
      "id": "MDEyOklzc3VlQ29tbWVudDU2OTUxODE2MQ==",
      "author": "Filippo125",
      "date": "2019-12-29T16:00:09Z",
      "snippet": "I check mssql and fixed some issue on it.",
      "is_ours": false,
      "analyzed": false,
      "action_needed": true
    },
    {
      "id": "MDEyOklzc3VlQ29tbWVudDU3MDAzNjU1Ng==",
      "author": "Loizzus",
      "date": "2020-01-01T09:15:09Z",
      "snippet": "Thank you so much!",
      "is_ours": false,
      "analyzed": false,
      "action_needed": true
    },
    {
      "id": "IC_kwDOAAcIMM7mYiFW",
      "author": "robertpopa22",
      "date": "2026-02-07T19:55:08Z",
      "snippet": "Triage refresh (P4 version-label debt): this issue is tagged with legacy version labels. Please retest on the latest build (fork v1.79.x or upstream dev), then share reproducible steps and expected vs actual behavior. If still valid, keep open and relabel to current triage scope (for example Need 2 check). If fixed, close with resolution.\n\nCurrent legacy version labels: 1.77.2",
      "is_ours": true,
      "analyzed": false,
      "action_needed": false
    }
  ],
  "comments_cursor": "2026-02-07T19:55:09Z",
  "unread_comments": 3,
  "needs_action": true,
  "waiting_for_us": false,
  "last_synced": "2026-02-15T09:52:50Z",
  "notes": "AI triage (claude): SQL save logic deletes ALL rows and re-inserts them on every save instead of updating existing rows, causing database bloat and ID sequence inflation.\nApproach: Refactor DataTableSerializer to use UPDATE (RowState=Modified) for existing rows and INSERT only for new connections, instead of indiscriminate DELETE+INSERT. Reference community branch Filippo125/sql_update#1589."
}
