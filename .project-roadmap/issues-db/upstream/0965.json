{
  "number": 965,
  "repo": "mRemoteNG/mRemoteNG",
  "title": "Open Connection File Menu Option Does Not Work w/ SQL Server Functionality Enabled",
  "state": "open",
  "labels": [
    "Bug"
  ],
  "author": "dezryth",
  "created_at": "2018-04-24T21:30:59Z",
  "github_updated_at": "2018-09-30T17:27:32Z",
  "body_snippet": "<!--- Provide a general summary of the issue in the Title above -->\r\nWhen \"Use SQL Server to load & save connections\" is enabled from options, the \"Open Connection File...\" menu option does not work and does not notify the user of the issue. Functionality is restored after disabling the SQL Server option.\r\n\r\n## Expected Behavior\r\n<!--- If you're describing a bug, tell us what should happen -->\r\n<!--- If you're suggesting a change/improvement, tell us how it should work -->\r\nNotify user they are ...",
  "our_status": "triaged",
  "priority": "P2-bug",
  "target_release": null,
  "our_branch": null,
  "our_pr": null,
  "iterations": [
    {
      "seq": 1,
      "date": "2026-02-18",
      "type": "triaged",
      "description": "When opening a connection file while SQL Server mode is enabled, the application fails to switch the connection synchronizer from SqlConnectionsUpdateChecker to FileConnectionsUpdateChecker. This causes the application to erroneously detect updates from the database and revert to SQL mode immediately after loading the file."
    },
    {
      "seq": 2,
      "date": "2026-02-18",
      "type": "triaged",
      "description": "ConnectionTree.HandleCollectionChanged fails to update the TreeListView roots when ConnectionTreeModel adds a new root node (via Open Connection File) because it attempts to refresh the model object instead of adding the new root node to the view."
    }
  ],
  "comments": [],
  "comments_cursor": "2018-09-30T17:27:32Z",
  "unread_comments": 0,
  "needs_action": false,
  "waiting_for_us": false,
  "last_synced": "2026-02-15T09:52:50Z",
  "notes": "AI triage (gemini): When opening a connection file while SQL Server mode is enabled, the application fails to switch the connection synchronizer from SqlConnectionsUpdateChecker to FileConnectionsUpdateChecker. This causes the application to erroneously detect updates from the database and revert to SQL mode immediately after loading the file.\nApproach: Modify Runtime.LoadConnections to update ConnectionsService.RemoteConnectionsSyncronizer based on the new connection mode (SQL vs File) before calling ConnectionsService.LoadConnections, ensuring the correct update checker is used and the previous one is disposed.\nAI triage (gemini): ConnectionTree.HandleCollectionChanged fails to update the TreeListView roots when ConnectionTreeModel adds a new root node (via Open Connection File) because it attempts to refresh the model object instead of adding the new root node to the view.\nApproach: Modify HandleCollectionChanged in ConnectionTree.cs to check if the sender is ConnectionTreeModel. If so, handle NotifyCollectionChangedAction.Add/Remove by calling AddObjects/RemoveObjects on the TreeListView to correctly display the additional connection file root nodes."
}
